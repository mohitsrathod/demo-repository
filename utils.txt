utility functions for verson 3
